<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="P">  
  <select id         = "DressList"
           resultType = "com.green.p.vo.PVo"  >
   
      SELECT     DRESSIMAGE ,
                 DRESSID
      FROM      DRESS
      ORDER BY  DRESSID ASC
   </select>  
   <!-- 목록 조회 : DESC : 최신순   -->
   <select id         = "PList"
           resultType = "com.green.p.vo.PVo"  >
 SELECT    
         D.DRESSID,      
         F.FAVID,       
         D.DRESSNAME,
         D.DRESSPRICE,
         D.DRESSIMAGE
                 
       FROM      FAVORITES F JOIN DRESS D 
                ON F.DRESSID=D.DRESSID
                
ORDER BY F.FAVID ASC    
   </select>  
   
   
   <insert  id="ggimInsert">
 INSERT INTO FAVORITES (
    FAVID,   
    MEMID,
    DRESSID
   	) VALUES (
	( SELECT NVL(MAX(FAVID), 0) + 1 FROM FAVORITES ),
      #{memid},
      #{dressid}
  )
     </insert>
           


 
</mapper>





   